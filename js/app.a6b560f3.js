(function(){"use strict";var e={4093:function(e,t,n){var o=n(9242),s=n(3396);const a={class:"container"};function r(e,t,n,o,r,i){const l=(0,s.up)("nav-component"),u=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(l),(0,s._)("div",a,[(0,s.Wm)(u)])],64)}const i=e=>((0,s.dD)("data-v-ee5d2cba"),e=e(),(0,s.Cn)(),e),l={class:"container header_container"},u={class:"header"},c=i((()=>(0,s._)("div",{class:"logo"},[(0,s._)("h1",null,"Alenote"),(0,s._)("span",null,"Заметки, записи, мысли")],-1))),d=i((()=>(0,s._)("span",null,null,-1))),p=i((()=>(0,s._)("span",null,null,-1))),h=i((()=>(0,s._)("span",null,null,-1))),m=[d,p,h],g={key:0};function f(e,t,n,o,a,r){const i=(0,s.up)("Blinds"),d=(0,s.up)("router-link"),p=(0,s.up)("PenSquare"),h=(0,s.up)("LogOut");return(0,s.wg)(),(0,s.iD)("header",null,[(0,s._)("div",l,[(0,s._)("section",u,[c,(0,s._)("button",{onClick:t[0]||(t[0]=(...e)=>r.toggleNav&&r.toggleNav(...e)),class:"header__button"},m)]),a.isNavOpen?((0,s.wg)(),(0,s.iD)("nav",g,[(0,s.Wm)(d,{onClick:t[1]||(t[1]=e=>r.toggleNav()),class:"a-prim",to:"/"},{default:(0,s.w5)((()=>[(0,s.Wm)(i,{size:"15px"}),(0,s.Uk)(" Главная ")])),_:1}),this.$store.state.auth.isLogged?((0,s.wg)(),(0,s.j4)(d,{key:0,onClick:t[2]||(t[2]=e=>r.toggleNav()),class:"a-prim",to:"/notes"},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{size:"15px"}),(0,s.Uk)(" Заметки ")])),_:1})):(0,s.kq)("",!0),this.$store.state.auth.isLogged?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(d,{key:1,onClick:t[3]||(t[3]=e=>r.toggleNav()),class:"a-prim",to:"/login"},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{size:"15px"}),(0,s.Uk)(" Войти ")])),_:1})),this.$store.state.auth.isLogged?((0,s.wg)(),(0,s.iD)("button",{key:2,onClick:t[4]||(t[4]=(...e)=>r.handleLogout&&r.handleLogout(...e)),class:"a-prim"},[(0,s.Wm)(h,{size:"15px"}),(0,s.Uk)(" Выйти ")])):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])])}var v=n(65),_=n(4775),w=n(3948),b=n(4438),y=n(5560),k={components:{Blinds:_.Z,PenSquare:w.Z,LogIn:b.Z,LogOut:y.Z},data(){return{isNavOpen:!1}},methods:{...(0,v.nv)(["authLogout","checkAuth"]),handleLogout(){this.authLogout(),this.toggleNav()},toggleNav(){this.isNavOpen=!this.isNavOpen}},mounted(){this.checkAuth()}},O=n(89);const N=(0,O.Z)(k,[["render",f],["__scopeId","data-v-ee5d2cba"]]);var E=N,T={components:{"nav-component":E}};const D=(0,O.Z)(T,[["render",r]]);var L=D,S=n(5431);(0,S.z)("/alenotes-frontend/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var U=n(2483);const j=(0,s._)("h1",{class:"title"},"Главная",-1),x={key:0},A={key:1};function G(e,t,n,o,a,r){const i=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[j,this.$store.state.auth.isLogged?((0,s.wg)(),(0,s.iD)("p",A,"Вы уже авторизованы!")):((0,s.wg)(),(0,s.iD)("p",x,[(0,s.Uk)("Получить доступ: "),(0,s.Wm)(i,{class:"a-sec",to:"/login"},{default:(0,s.w5)((()=>[(0,s.Uk)("Войти")])),_:1})]))],64)}var R={};const Z=(0,O.Z)(R,[["render",G]]);var H=Z,I=n(7139);const C=e=>((0,s.dD)("data-v-2f329402"),e=e(),(0,s.Cn)(),e),F=C((()=>(0,s._)("h3",null,"Вход в систему",-1))),z=C((()=>(0,s._)("label",{for:"email"},"Почта",-1))),q=C((()=>(0,s._)("label",{for:"password"},"Пароль",-1))),W=C((()=>(0,s._)("button",{class:"button",type:"submit"},"Войти",-1))),$={key:0,class:"error"};function M(e,t,n,a,r,i){const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("form",{onSubmit:t[2]||(t[2]=(0,o.iM)(((...e)=>i.loginHandler&&i.loginHandler(...e)),["prevent"])),onKeydown:t[3]||(t[3]=(0,o.D2)(((...t)=>e.createNote&&e.createNote(...t)),["enter"]))},[F,z,(0,s.wy)((0,s._)("input",{name:"email","onUpdate:modelValue":t[0]||(t[0]=e=>r.email=e),placeholder:"Введите почту..."},null,512),[[o.nr,r.email]]),q,(0,s.wy)((0,s._)("input",{type:"password",name:"password","onUpdate:modelValue":t[1]||(t[1]=e=>r.password=e),placeholder:"Введите пароль..."},null,512),[[o.nr,r.password]]),W,(0,s._)("span",null,[(0,s.Uk)("Нет аккаунта? "),(0,s.Wm)(l,{to:"/signup"},{default:(0,s.w5)((()=>[(0,s.Uk)("Создать")])),_:1})]),this.$store.state.auth.error?((0,s.wg)(),(0,s.iD)("p",$," Ошибка входа: "+(0,I.zw)(this.$store.state.auth.error),1)):(0,s.kq)("",!0)],32)}var P={data(){return{email:"",password:""}},methods:{...(0,v.nv)(["authLogin"]),async loginHandler(){this.authLogin({email:this.email,password:this.password})}}};const K=(0,O.Z)(P,[["render",M],["__scopeId","data-v-2f329402"]]);var V=K;const X=e=>((0,s.dD)("data-v-c74478ba"),e=e(),(0,s.Cn)(),e),Y=X((()=>(0,s._)("h3",null,"Регистрация",-1))),B=X((()=>(0,s._)("label",{for:"email"},"Почта",-1))),J=X((()=>(0,s._)("label",{for:"password"},"Пароль",-1))),Q=X((()=>(0,s._)("button",{class:"button",type:"submit"},"Создать аккаунт",-1))),ee={key:0,class:"error"};function te(e,t,n,a,r,i){const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("form",{onSubmit:t[2]||(t[2]=(0,o.iM)(((...e)=>i.signupHandler&&i.signupHandler(...e)),["prevent"])),onKeydown:t[3]||(t[3]=(0,o.D2)(((...t)=>e.createNote&&e.createNote(...t)),["enter"]))},[Y,B,(0,s.wy)((0,s._)("input",{name:"email","onUpdate:modelValue":t[0]||(t[0]=e=>r.email=e),placeholder:"Введите почту..."},null,512),[[o.nr,r.email]]),J,(0,s.wy)((0,s._)("input",{type:"password",name:"password","onUpdate:modelValue":t[1]||(t[1]=e=>r.password=e),placeholder:"Введите пароль..."},null,512),[[o.nr,r.password]]),Q,(0,s._)("span",null,[(0,s.Uk)("Уже есть аккаунт? "),(0,s.Wm)(l,{to:"/login"},{default:(0,s.w5)((()=>[(0,s.Uk)("Войти")])),_:1})]),this.$store.state.auth.error?((0,s.wg)(),(0,s.iD)("p",ee," Ошибка регистрации: "+(0,I.zw)(this.$store.state.auth.error),1)):(0,s.kq)("",!0)],32)}var ne={data(){return{email:"",password:""}},methods:{...(0,v.nv)(["authSignup"]),async signupHandler(){this.authSignup({email:this.email,password:this.password})}}};const oe=(0,O.Z)(ne,[["render",te],["__scopeId","data-v-c74478ba"]]);var se=oe;const ae=(0,s._)("h1",{class:"title"},"Заметки",-1),re=["disabled"];function ie(e,t,n,o,a,r){const i=(0,s.up)("form-component"),l=(0,s.up)("notelist-component");return(0,s.wg)(),(0,s.iD)(s.HY,null,[ae,this.$store.state.notes.isFormOpen?((0,s.wg)(),(0,s.j4)(i,{key:0})):(0,s.kq)("",!0),(0,s.Wm)(l),(0,s._)("button",{disabled:this.$store.state.notes.isFormOpen,class:"form__open",onClick:t[0]||(t[0]=t=>e.TOGGLE_FORM())}," + ",8,re)],64)}const le={class:"list"};function ue(e,t,n,o,a,r){const i=(0,s.up)("note-component");return(0,s.wg)(),(0,s.iD)("section",le,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(this.$store.state.notes.notes,(e=>((0,s.wg)(),(0,s.j4)(i,{note:e,key:e.id},null,8,["note"])))),128))])}const ce={class:"date"};function de(e,t,n,a,r,i){const l=(0,s.up)("X");return(0,s.wg)(),(0,s.j4)(o.uT,{name:"slide"},{default:(0,s.w5)((()=>[(0,s._)("article",null,[(0,s._)("div",null,[(0,s._)("h2",null,(0,I.zw)(n.note.title),1),(0,s._)("p",null,(0,I.zw)(n.note.content),1),(0,s._)("span",ce,(0,I.zw)(n.note.date),1)]),(0,s._)("aside",null,[(0,s._)("button",{class:"delete",onClick:t[0]||(t[0]=t=>e.deleteNote(n.note.id))},[(0,s.Wm)(l)])])])])),_:1})}var pe=n(4341),he={components:{X:pe.Z},props:{note:{type:Object,required:!0}},methods:{...(0,v.nv)(["getNotes","deleteNote"])}};const me=(0,O.Z)(he,[["render",de]]);var ge=me,fe={components:{"note-component":ge},methods:{...(0,v.nv)(["getNotes"])},mounted(){this.getNotes()}};const ve=(0,O.Z)(fe,[["render",ue]]);var _e=ve;const we=e=>((0,s.dD)("data-v-32646474"),e=e(),(0,s.Cn)(),e),be=we((()=>(0,s._)("div",{class:"overlay"},null,-1))),ye={class:"modal__top"},ke=we((()=>(0,s._)("h3",null,"Создать запись",-1))),Oe=we((()=>(0,s._)("label",{for:"title"},"Название",-1))),Ne=we((()=>(0,s._)("label",{for:"content"},"Содержание",-1))),Ee=we((()=>(0,s._)("button",{class:"button",type:"submit"},"Создать запись",-1)));function Te(e,t,n,a,r,i){const l=(0,s.up)("X");return(0,s.wg)(),(0,s.iD)(s.HY,null,[be,(0,s._)("form",{onSubmit:t[4]||(t[4]=(0,o.iM)(((...e)=>i.createNote&&i.createNote(...e)),["prevent"])),onKeydown:t[5]||(t[5]=(0,o.D2)(((...e)=>i.createNote&&i.createNote(...e)),["enter"]))},[(0,s._)("div",ye,[ke,(0,s._)("span",{class:"delete",onClick:t[0]||(t[0]=t=>e.TOGGLE_FORM())},[(0,s.Wm)(l)])]),Oe,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>r.title=e),placeholder:"Введите название..",type:"text"},null,512),[[o.nr,r.title]]),Ne,(0,s.wy)((0,s._)("textarea",{ref:"textarea","onUpdate:modelValue":t[2]||(t[2]=e=>r.content=e),placeholder:"Введите текст..",onInput:t[3]||(t[3]=(...e)=>i.resizeTextarea&&i.resizeTextarea(...e)),type:"text"},null,544),[[o.nr,r.content]]),Ee],32)],64)}var De={components:{X:pe.Z},data(){return{title:"",content:""}},methods:{...(0,v.nv)(["addNote"]),...(0,v.OI)(["TOGGLE_FORM"]),async createNote(){const e={title:this.title,content:this.content,date:(new Date).toLocaleString()};this.addNote(e),this.title="",this.content="",this.TOGGLE_FORM();const t=this.$refs.textarea;t.style.height=""},resizeTextarea(){const e=this.$refs.textarea;e.style.height="auto",e.style.height=e.scrollHeight+"px"}}};const Le=(0,O.Z)(De,[["render",Te],["__scopeId","data-v-32646474"]]);var Se=Le,Ue={components:{"form-component":Se,"notelist-component":_e},methods:{...(0,v.OI)(["TOGGLE_FORM"])}};const je=(0,O.Z)(Ue,[["render",ie]]);var xe=je,Ae=n(3866);const Ge=[{path:"/",name:"home",component:H},{path:"/login",name:"login",component:V},{path:"/signup",name:"signup",component:se},{path:"/notes",name:"notes",component:xe,meta:{requiresAuth:!0}}],Re=(0,U.p7)({history:(0,U.PO)("/alenotes-frontend/"),routes:Ge}),Ze=()=>new Promise(((e,t)=>{const n=(0,Ae.Aj)((0,Ae.v0)(),(t=>{n(),e(t)}),t)}));Re.beforeEach((async(e,t,n)=>{e.matched.some((e=>e.meta.requiresAuth))?await Ze()?n():(alert("No access"),n("/")):n()}));var He=Re,Ie=(n(7658),n(7795)),Ce=n(9365),Fe=n(4287);const ze={apiKey:"AIzaSyD6ygZjN0JtvGQhLK5hxlw5RtunBjACb3Y",authDomain:"willberries-3389e.firebaseapp.com",databaseURL:"https://willberries-3389e-default-rtdb.firebaseio.com",projectId:"willberries-3389e",storageBucket:"willberries-3389e.appspot.com",messagingSenderId:"858341095624",appId:"1:858341095624:web:9e129be2005ebffb304dfd",measurementId:"G-RZ8NTJ90M1"},qe=(0,Ie.ZF)(ze),We=((0,Ce.IH)(qe),(0,Fe.ad)());var $e=We;const Me={state:{notes:[],isFormOpen:!1},mutations:{SET_NOTES(e,t){e.notes=t},DELETE_NOTE(e,t){e.notes=e.notes.filter((e=>e.id!==t))},ADD_NOTE(e,t){e.notes.push({id:t.id,...t.dataObj})},TOGGLE_FORM(e){e.isFormOpen=!e.isFormOpen}},actions:{async getNotes({commit:e}){const t=(0,Ae.v0)(),n=(0,Fe.IO)((0,Fe.hJ)($e,"notes"),(0,Fe.Xo)("date","desc"),(0,Fe.ar)("uid","==",t.currentUser.uid)),o=await(0,Fe.PL)(n),s=[];o.forEach((e=>{s.push({id:e.id,...e.data()})})),e("SET_NOTES",s)},async deleteNote({commit:e},t){const n=(0,Fe.JU)($e,"notes",t);await(0,Fe.oe)(n),e("DELETE_NOTE",t)},async addNote({commit:e},t){const n=(0,Ae.v0)(),o=(0,Fe.hJ)($e,"notes"),s=await(0,Fe.ET)(o,{uid:n.currentUser.uid,...t});e("ADD_NOTE",{id:s.id,uid:n.currentUser.uid,dataObj:t})}},getters:{}};var Pe=Me;const Ke={state:{isLogged:!1,error:null,auth:(0,Ae.v0)()},mutations:{SET_IS_LOGGED(e,t){e.isLogged=t},SET_ERROR(e,t){e.error=t},SET_AUTH(e,t){e.auth=t}},actions:{async authLogin({commit:e,state:t},n){e("SET_AUTH",(0,Ae.v0)()),(0,Ae.e5)(t.auth,n.email,n.password).then((e=>{console.log(t.auth.currentUser),He.push("/notes")})).catch((t=>{e("SET_ERROR",t.code)}))},async authSignup({commit:e,state:t},n){e("SET_AUTH",(0,Ae.v0)()),(0,Ae.Xb)(t.auth,n.email,n.password).then((e=>{He.push("/notes")})).catch((t=>{e("SET_ERROR",t.code)}))},async checkAuth({commit:e,state:t}){e("SET_AUTH",(0,Ae.v0)()),(0,Ae.Aj)(t.auth,(t=>{e("SET_IS_LOGGED",!!t)}))},async authLogout({state:e}){(0,Ae.w7)(e.auth).then((()=>{He.push("/")}))}},getters:{}};var Ve=Ke,Xe=(0,v.MT)({modules:{notes:Pe,auth:Ve}});(0,o.ri)(L).use(Xe).use(He).mount("#app")}},t={};function n(o){var s=t[o];if(void 0!==s)return s.exports;var a=t[o]={exports:{}};return e[o].call(a.exports,a,a.exports,n),a.exports}n.m=e,function(){var e=[];n.O=function(t,o,s,a){if(!o){var r=1/0;for(c=0;c<e.length;c++){o=e[c][0],s=e[c][1],a=e[c][2];for(var i=!0,l=0;l<o.length;l++)(!1&a||r>=a)&&Object.keys(n.O).every((function(e){return n.O[e](o[l])}))?o.splice(l--,1):(i=!1,a<r&&(r=a));if(i){e.splice(c--,1);var u=s();void 0!==u&&(t=u)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[o,s,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var s,a,r=o[0],i=o[1],l=o[2],u=0;if(r.some((function(t){return 0!==e[t]}))){for(s in i)n.o(i,s)&&(n.m[s]=i[s]);if(l)var c=l(n)}for(t&&t(o);u<r.length;u++)a=r[u],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(c)},o=self["webpackChunkvue_notes"]=self["webpackChunkvue_notes"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(4093)}));o=n.O(o)})();
//# sourceMappingURL=app.a6b560f3.js.map